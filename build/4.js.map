{"version":3,"sources":["../../src/pages/tab-cart/tab-cart.module.ts","../../src/pages/tab-cart/tab-cart.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabCartPage } from './tab-cart';\n\n@NgModule({\n  declarations: [\n    TabCartPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TabCartPage),\n  ],\n})\nexport class TabCartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-cart/tab-cart.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\n\ndeclare var window;\n\n@IonicPage({\n  name: 'Cart',\n  segment: 'cart'\n})\n@Component({\n  selector: 'page-tab-cart',\n  templateUrl: 'tab-cart.html',\n})\nexport class TabCartPage {\n\n  shopcart = [{\n    shops: {\n      shop_name: '小红书福利社',\n      isSelect: false,\n      id: '0',\n      shop_type: '自营',\n      allPrise: 4668,\n      products: [\n        {\n          name: '资生堂防晒霜 60ml',\n          price: 199,\n          num: 2\n        },\n        {\n          name: '兰蔻精华液 100ml',\n          price: 854,\n          num: 5\n        }]\n    }\n  }];\n  alias = '';\n  msgList = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController) {\n  }\n\n  ionViewDidLoad() {\n  }\n\n  AddRemoveRecipeToFavorite(item, index) {\n    console.log(index)\n  }\n\n  /**\n   * 商品添加\n   */\n  addNum(index, item_index) {\n    if (this.shopcart[index].shops.products[item_index].num == 0) return\n    ++this.shopcart[index].shops.products[item_index].num;\n    this.numAllPrice();\n  }\n\n  /**\n   * 商品减少\n   */\n  reduceNum(index, item_index) {\n    if (this.shopcart[index].shops.products[item_index].num == 0) return\n    --this.shopcart[index].shops.products[item_index].num;\n    this.numAllPrice();\n  }\n\n  /**\n   * 计算所有商品价格\n   */\n  numAllPrice() {\n    for (let i = 0; i < this.shopcart.length; i++) {\n      let shops = this.shopcart[i].shops;\n      let finalprise = 0;\n      for (let j = 0; j < shops.products.length; j++) {\n        finalprise += (shops.products[j].num * shops.products[j].price);\n      }\n      this.shopcart[i].shops.allPrise = finalprise;\n    }\n    console.log(this.shopcart[0].shops.allPrise);\n  }\n\n  deleteProduct(index, item_index) {\n    this.showConfirm(index, item_index);\n  }\n\n  /**\n   * 弹出提示\n   */\n  showConfirm(index, item_index) {\n    let confirm = this.alertCtrl.create({\n      title: '温馨提示',\n      message: '是否要删除该商品?',\n      buttons: [\n        {\n          text: '再看看',\n          handler: () => {\n            console.log('Disagree clicked');\n          }\n        },\n        {\n          text: '是的',\n          handler: () => {\n            this.shopcart[index].shops.products.splice(item_index, 1);\n            this.numAllPrice();\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  initJPush() {\n//启动极光推送\n    if (window.plugins && 　window.plugins.jPushPlugin) {\n      window.plugins.jPushPlugin.init();\n      document.addEventListener(\"jpush.receiveNotification\", () => {\n        this.msgList.push({content:window.plugins.jPushPlugin.receiveNotification.alert})\n      }, false);\n    }\n  }\n\n  setAlias() {\n//设置Alias\n    if (this.alias && this.alias.trim() != '') {\n      window.plugins.jPushPlugin.setAlias(this.alias);\n    }else alert('Alias不能为空')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-cart/tab-cart.ts"],"sourceRoot":""}